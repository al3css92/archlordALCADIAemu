#ifndef _AP_SYSTEM_MESSAGE_H_
#define _AP_SYSTEM_MESSAGE_H_

#include "core/macros.h"
#include "core/types.h"

#include "public/ap_character.h"
#include "public/ap_define.h"
#include "public/ap_module_instance.h"

#include <assert.h>

#define AP_SYSTEM_MESSAGE_MODULE_NAME "AgpmSystemMessage"

#define AP_SYSTEM_MESSAGE_MAX_STRING_LENGTH 64


enum ap_system_message_packet_type {
	AP_SYSTEM_MESSAGE_PACKET_SYSTEM_MESSAGE = 0,
	AP_SYSTEM_MESSAGE_PACKET_MODAL_MESSAGE,
	AP_SYSTEM_MESSAGE_PACKET_MODALLESS_MESSAGE,
	AP_SYSTEM_MESSAGE_PACKET_CHAT_MESSAGE,
};

enum ap_system_message_code {
	AP_SYSTEM_MESSAGE_CODE_LOTTERY_ITEM_TO_POT_ITEM = 0,
	AP_SYSTEM_MESSAGE_CODE_LOTTERY_KEY_NOT_USABLE,
	AP_SYSTEM_MESSAGE_CODE_LOTTERYBOX_NEEDS_GOLD_KEY,
	AP_SYSTEM_MESSAGE_CODE_LOTTERYBOX_NEEDS_SILVER_KEY,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_STOP_USING_ITEM,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_END_USING_ITEM,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_CANNOT_UNUSE_ITEM,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_SAME_KIND_ALREADY_IN_USE,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_PAUSE,
	AP_SYSTEM_MESSAGE_CODE_CASH_ITEM_CANNOT_UNUSE_STATUS,
	AP_SYSTEM_MESSAGE_CODE_TAMABLE_FAILURE_MAX_COUNT,
	AP_SYSTEM_MESSAGE_CODE_TAMABLE_FAILURE_INVALID_TARGET,
	AP_SYSTEM_MESSAGE_CODE_TAMABLE_FAILURE_ALREADY_TAMING,
	AP_SYSTEM_MESSAGE_CODE_TAMABLE_FAILURE_MISS,
	AP_SYSTEM_MESSAGE_CODE_TRANSPARENT_FAILURE_FOR_COMBAT,
	AP_SYSTEM_MESSAGE_CODE_FIXED_FAILURE_MAX_COUNT,
	AP_SYSTEM_MESSAGE_CODE_SUMMONS_FAILURE_MAX_COUNT,
	AP_SYSTEM_MESSAGE_CODE_SUMMONS_FAILURE_LEVEL_LIMIT_REGION,
	AP_SYSTEM_MESSAGE_CODE_MUTATION_FAILURE_INVALID_TARGET,
	AP_SYSTEM_MESSAGE_CODE_ITEM_CANNOT_BUY,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_USE_BY_STATUS,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_USE_BY_REUSE_INTERVAL,
	AP_SYSTEM_MESSAGE_CODE_JUMP_ITEM_USED,
	AP_SYSTEM_MESSAGE_CODE_LOTTERYBOX_NEEDS_BRONZE_KEY,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_RIDE_WHILE_COMBAT,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_ATTACKABLE_TARGET,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_INITIALIZE_SKILL,
	AP_SYSTEM_MESSAGE_CODE_ITEM_FOR_GUILDMASTER,
	AP_SYSTEM_MESSAGE_CODE_LOTTERYBOX_NEEDS_PLATINUM_KEY,
	AP_SYSTEM_MESSAGE_CODE_BANK_SLOT_IS_MAX,
	AP_SYSTEM_MESSAGE_CODE_BANK_ADD_SLOT_SUCCESS,
	AP_SYSTEM_MESSAGE_CODE_BANK_MONEY_FIRST,
	AP_SYSTEM_MESSAGE_CODE_PARTY_PORTAL_ERROR_DEAD_MEMBER,
	AP_SYSTEM_MESSAGE_CODE_PARTY_PORTAL_ERROR_IN_SECRET_DUNGEON,
	AP_SYSTEM_MESSAGE_CODE_PARTY_PORTAL_ERROR_IN_SIEGE_WAR,
	AP_SYSTEM_MESSAGE_CODE_PARTY_PORTAL_ERROR_LACK_OF_LEVEL,
	AP_SYSTEM_MESSAGE_CODE_CANNOT_USE_WANGBOK_SCROLL,
	AP_SYSTEM_MESSAGE_CODE_GO_COMMAND_LACK_OF_LEVEL,
	AP_SYSTEM_MESSAGE_CODE_INVEN_MONEY_FULL,
	AP_SYSTEM_MESSAGE_CODE_PET_IS_HUNGRY,
	AP_SYSTEM_MESSAGE_CODE_DISABLE_AUCTION,
	AP_SYSTEM_MESSAGE_CODE_NOT_ENOUGH_INVENTORY,
	AP_SYSTEM_MESSAGE_CODE_DISABLE_EQUIP_ITEM_THIS_REGION,
	AP_SYSTEM_MESSAGE_CODE_DISABLE_USE_THIS_REGION,
	AP_SYSTEM_MESSAGE_CODE_LOTTERYBOX_NEEDS_100BAG_KEY,
	AP_SYSTEM_MESSAGE_CODE_GENERAL_STRING	= 400,
	AP_SYSTEM_MESSAGE_CODE_DEBUG_STRING= 500,
};

BEGIN_DECLS

struct ap_system_message_module * ap_system_message_create_module();

void ap_system_message_make_packet(
	struct ap_system_message_module * mod,
	enum ap_system_message_code code,
	uint32_t param1,
	uint32_t param2,
	const char * string1,
	const char * string2);

END_DECLS

#endif /* _AP_SYSTEM_MESSAGE_H_ */